<!DOCTYPE html>
<!--[if lt IE 7]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if gt IE 8]><!-->
<html lang='en'>
<!--<![endif]-->
	<head>
		<meta charset='utf-8' />
		<title> PraiseCod | COD IS DEAD!</title>
		
		<meta content='COD IS DEAD!' name='description' />
		<meta content='please' name='author' />
		<meta name="distribution" content="global" />
		<meta name="language" content="en" />
		<meta content='width=device-width, initial-scale=1.0' name='viewport' />

		<link rel="stylesheet" href="lib/css/style.css" type="text/css" />
		<link href='https://fonts.googleapis.com/css?family=Lato:100' rel='stylesheet' type='text/css'>
	</head>
	<body>
		<div id=block>
			<div class="graph">
				<div class="eye"></div>      
			</div>
			<img src='lib/images/PraiseCod1.png'>
			<img src='lib/images/PraiseCod2.png'>
		</div>

		<div class="twitter_box">
			<a href="https://twitter.com/PleaseWebsite" class="twitter-follow-button" data-show-count="false" data-lang="en">Follow @PleaseWebsite</a>
			<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
			<br>
			<a id="goBackHome" href="https://pleasewebsite.com">Back to PleaseWebsite</a>
		</div>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
		<script type='text/javascript'>
			document.querySelector("body").addEventListener("mousemove", eyeball);
			function eyeball() {
				const eye = document.querySelectorAll(".eye");
				eye.forEach(function (eye) {
				let x = eye.getBoundingClientRect().left + eye.clientWidth / 2;
				let y = eye.getBoundingClientRect().top + eye.clientHeight / 2;

				let radian = Math.atan2(event.pageX - x, event.pageY - y);
				let rotate = radian * (180 / Math.PI) * -1 + 270;
				eye.style.transform = "rotate(" + rotate + "deg)";
				});
			}

			jQuery(function(){
				function imagePicker(n) {
					return Math.floor(Math.random() * n);
				}

				// starting times
				var transition_time = Math.floor(Math.random() * (2500 - 350 + 1) + 350);
				var waiting_time = Math.floor(Math.random() * (2000 - 250 + 1) + 250);
				
				var images = $('div#block img');
				var n = images.length;
				var current = imagePicker(n);
								
				//range of possible image scales
				var objectMaxHeight = 200;
				var objectMinHeight = 400;

				images.hide();
				images.eq(current).show();

				// Periodically, we fadeOut the current image and fadeIn a random one
				var interval_id = setInterval( function(){
					//get the size of the container
					var boxHeight = document.getElementById('block').offsetHeight;
					var boxWidth = document.getElementById('block').offsetWidth;
					// new random time
					transition_time = Math.floor(Math.random() * (1500 - 350 + 1) + 350);
					waiting_time = Math.floor(Math.random() * (2000 - 250 + 1) + 250);

				    images.eq( current ).fadeOut( 5, function(){
				        current = imagePicker(n);
				        images.eq(current).fadeIn(5);
				        //generates random heights and widths for the image to be shown in
						var generatedHeight =  Math.floor(Math.random() * (objectMaxHeight - objectMinHeight)) + objectMinHeight;

				        // assigns values to the image
						images.eq(current).css('height', generatedHeight); 
						images.eq(current).css('width', "auto");

						// reset position
						images.eq(current).css('top', 0); 
						images.eq(current).css('left', 0);
						images.eq(current).css('right', 0); 
						images.eq(current).css('bottom', 0);
						images.eq(current).css('margin', 0); 

						var imageAutoWidth = images.eq(current).width();
						var generatedYLocation = Math.floor(Math.random() * (boxHeight - generatedHeight + 1)) + 0;
						var generatedXLocation = Math.floor(Math.random() * (boxWidth - imageAutoWidth)) + 0;
						
						// pick one of the 4 edges of screen
						var edge = Math.floor(Math.random() * 2);

						if (edge == 0) { // left edge
							images.eq(current).css({ WebkitTransform: 'rotate(90deg)'});
							images.eq(current).css({ '-moz-transform': 'rotate(90deg)'});
							images.eq(current).css({ '-ms-transform': 'rotate(90deg)'});
							images.eq(current).css({ '-o-transform': 'rotate(90deg)'});
							images.eq(current).css({ '-transform': 'rotate(90deg)'});

							images.eq(current).css('left', -imageAutoWidth);
							images.eq(current).animate({left: "+="+imageAutoWidth+"px"}, transition_time );
							images.eq(current).css('top', generatedYLocation);

							images.eq(current).animate({left: "-="+imageAutoWidth+"px"}, waiting_time );

						} else if (edge == 1) { // top edge
							images.eq(current).css({ WebkitTransform: 'rotate(180deg)'});
							images.eq(current).css({ '-moz-transform': 'rotate(180deg)'});
							images.eq(current).css({ '-ms-transform': 'rotate(180deg)'});
							images.eq(current).css({ '-o-transform': 'rotate(180deg)'});
							images.eq(current).css({ '-transform': 'rotate(180deg)'});

							images.eq(current).css('top', -generatedHeight);
							images.eq(current).animate({top: "+="+generatedHeight+"px"}, transition_time );
							images.eq(current).css('left', generatedXLocation);

							images.eq(current).animate({top: "-="+generatedHeight+"px"}, waiting_time );
							
						} else if (edge == 2) { // right edge
							images.eq(current).css({ WebkitTransform: 'rotate(270deg)'});
							images.eq(current).css({ '-moz-transform': 'rotate(270deg)'});
							images.eq(current).css({ '-ms-transform': 'rotate(270deg)'});
							images.eq(current).css({ '-o-transform': 'rotate(270deg)'});
							images.eq(current).css({ '-transform': 'rotate(270deg)'});

							images.eq(current).css('margin-right', '-'+imageAutoWidth+'px');
							images.eq(current).css('left', 'calc(100% - '+imageAutoWidth+'px)');
							images.eq(current).animate({left: "-="+imageAutoWidth+"px"}, transition_time );
							images.eq(current).css('top', generatedYLocation);

							images.eq(current).animate({left: "+="+imageAutoWidth+"px"}, waiting_time );

						} else if (edge == 3) { // bottom edge
							images.eq(current).css({ WebkitTransform: 'rotate(0deg)'});
							images.eq(current).css({ '-moz-transform': 'rotate(0deg)'});
							images.eq(current).css({ '-ms-transform': 'rotate(0deg)'});
							images.eq(current).css({ '-o-transform': 'rotate(0deg)'});
							images.eq(current).css({ '-transform': 'rotate(0deg)'});

							images.eq(current).css('margin-bottom', +generatedHeight+'px');
							images.eq(current).css('top', $(window).height()+generatedHeight);
							images.eq(current).animate({top: "-="+generatedHeight+"px"}, transition_time );
							images.eq(current).css('left', generatedXLocation);

							images.eq(current).animate({top: "+="+generatedHeight+"px"}, waiting_time );
						} else {
							// error?
						}
						console.log("Edge: "+edge, "Image: "+images.eq(current), "Height: "+generatedHeight, "Duration: "+transition_time);
				    } );
				}, 2 * transition_time + waiting_time);

				// You can then stop the effect with:
				// clearInterval( interval_id );
			})

			function inIframe() {
				try {
					return window.self !== window.top;
				} catch (e) {
					return true;
				}
			}
			$(document).ready(function(){
				if (inIframe()) {
					var	item = document.getElementById("goBackHome");
					item.style.display = 'none';	
				}
			})
		</script>
	</body>
</html>
