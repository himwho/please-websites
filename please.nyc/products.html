<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>PLEASE - Products</title>
        <meta name="description" content="Handmade clothing and merch from PLEASE">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <link rel="stylesheet" href="css/products.css">
        <link href="https://fonts.googleapis.com/css2?family=Kalam:wght@300;400;700&family=Permanent+Marker&display=swap" rel="stylesheet">
    </head>
    <body>
        <!-- Graph paper grid background -->
        <div class="graph-paper"></div>
        
        <!-- Purchase Instructions Section -->
        <div class="purchase-instructions handwritten-note">
            <div class="note-header">
                <h1>HOW TO ORDER</h1>
                <div class="tape tape-1"></div>
                <div class="tape tape-2"></div>
            </div>
            <div class="instruction-text">
                <p>Email us at: <strong>orders@please.nyc</strong></p>
                <p>NYC only because we hand deliver only!</p>
                <p>The cart submit button will open your email client with your order details. If that doesn't work just email me what you want!</p>
                <p>We'll reach out to figure out when and how to personally delivering the order.</p>
                <p>Payment expected upon delivery.</p>
            </div>
        </div>

        <!-- Back to Main Site -->
        <div class="back-link handwritten-note small-note">
            <a href="index.html">‚Üê Back to please.nyc</a>
        </div>

        <!-- Horizontal Products Row -->
        <div class="products-container horizontal-products">
            <!-- Meatgravy Product Carousel -->
            <div class="product-cutout horizontal" data-product="meatgravy" data-tilt="-3deg">
                <div class="product-label handwritten">MEATGRAVY</div>
                <div class="product-carousel" data-current="0" data-count="2">
                    <div class="carousel-images">
                        <img src="products/img/meatgravy_1.png" alt="Meatgravy Design 1" class="active">
                        <img src="products/img/meatgravy_2.png" alt="Meatgravy Design 2">
                    </div>
                    <div class="carousel-controls">
                        <button class="carousel-btn prev" data-direction="prev">‚Äπ</button>
                        <div class="carousel-dots">
                            <span class="dot active" data-slide="0"></span>
                            <span class="dot" data-slide="1"></span>
                        </div>
                        <button class="carousel-btn next" data-direction="next">‚Ä∫</button>
                    </div>
                </div>
                <div class="price-tag">$60</div>
                <div class="quantity-controls">
                    <button class="qty-btn minus" data-action="decrease">-</button>
                    <span class="quantity">0</span>
                    <button class="qty-btn plus" data-action="increase">+</button>
                </div>
            </div>

            <!-- Maoxuewang Product Carousel -->
            <div class="product-cutout horizontal" data-product="maoxuewang" data-tilt="2deg">
                <div class="product-label handwritten">MAOXUEWANG</div>
                <div class="product-carousel" data-current="0" data-count="3">
                    <div class="carousel-images">
                        <img src="products/img/maoxuewang_1.png" alt="Maoxuewang Design 1" class="active">
                        <img src="products/img/maoxuewang_2.png" alt="Maoxuewang Design 2">
                        <img src="products/img/maoxuewang_3.png" alt="Maoxuewang Design 3">
                    </div>
                    <div class="carousel-controls">
                        <button class="carousel-btn prev" data-direction="prev">‚Äπ</button>
                        <div class="carousel-dots">
                            <span class="dot active" data-slide="0"></span>
                            <span class="dot" data-slide="1"></span>
                            <span class="dot" data-slide="2"></span>
                        </div>
                        <button class="carousel-btn next" data-direction="next">‚Ä∫</button>
                    </div>
                </div>
                <div class="price-tag">$26</div>
                <div class="quantity-controls">
                    <button class="qty-btn minus" data-action="decrease">-</button>
                    <span class="quantity">0</span>
                    <button class="qty-btn plus" data-action="increase">+</button>
                </div>
            </div>
        </div>

        <!-- Vertical Products Row -->
        <div class="products-container vertical-products">
            <!-- Praisecod Product Carousel -->
            <div class="product-cutout vertical" data-product="praisecod" data-tilt="-2deg">
                <div class="product-label handwritten">PRAISE COD</div>
                <div class="product-carousel" data-current="0" data-count="2">
                    <div class="carousel-images">
                        <img src="products/img/praisecod_1.png" alt="Praisecod Design 1" class="active">
                        <img src="products/img/praisecod_2.png" alt="Praisecod Design 2">
                    </div>
                    <div class="carousel-controls">
                        <button class="carousel-btn prev" data-direction="prev">‚Äπ</button>
                        <div class="carousel-dots">
                            <span class="dot active" data-slide="0"></span>
                            <span class="dot" data-slide="1"></span>
                        </div>
                        <button class="carousel-btn next" data-direction="next">‚Ä∫</button>
                    </div>
                </div>
                <div class="price-tag">$40</div>
                <div class="quantity-controls">
                    <button class="qty-btn minus" data-action="decrease">-</button>
                    <span class="quantity">0</span>
                    <button class="qty-btn plus" data-action="increase">+</button>
                </div>
            </div>

            <!-- French Fry Angle Product Carousel -->
            <div class="product-cutout vertical" data-product="frenchfryangle" data-tilt="1deg">
                <div class="product-label handwritten">FRENCH FRY ANGLE</div>
                <div class="product-carousel" data-current="0" data-count="2">
                    <div class="carousel-images">
                        <img src="products/img/frenchfryangle_1.png" alt="French Fry Angle Design 1" class="active">
                        <img src="products/img/frenchfryangle_2.png" alt="French Fry Angle Design 2">
                    </div>
                    <div class="carousel-controls">
                        <button class="carousel-btn prev" data-direction="prev">‚Äπ</button>
                        <div class="carousel-dots">
                            <span class="dot active" data-slide="0"></span>
                            <span class="dot" data-slide="1"></span>
                        </div>
                        <button class="carousel-btn next" data-direction="next">‚Ä∫</button>
                    </div>
                </div>
                <div class="price-tag">$40</div>
                <div class="quantity-controls">
                    <button class="qty-btn minus" data-action="decrease">-</button>
                    <span class="quantity">0</span>
                    <button class="qty-btn plus" data-action="increase">+</button>
                </div>
            </div>

            <!-- Genesname Product Carousel -->
            <div class="product-cutout vertical" data-product="genesname" data-tilt="-1deg">
                <div class="product-label handwritten">GENE'S NAME</div>
                <div class="product-carousel" data-current="0" data-count="4">
                    <div class="carousel-images">
                        <img src="products/img/genesname_1.png" alt="Genesname Design 1" class="active">
                        <img src="products/img/genesname_2.png" alt="Genesname Design 2">
                        <img src="products/img/genesname_3.png" alt="Genesname Design 3">
                        <img src="products/img/genesname_4.png" alt="Genesname Design 4">
                    </div>
                    <div class="carousel-controls">
                        <button class="carousel-btn prev" data-direction="prev">‚Äπ</button>
                        <div class="carousel-dots">
                            <span class="dot active" data-slide="0"></span>
                            <span class="dot" data-slide="1"></span>
                            <span class="dot" data-slide="2"></span>
                            <span class="dot" data-slide="3"></span>
                        </div>
                        <button class="carousel-btn next" data-direction="next">‚Ä∫</button>
                    </div>
                </div>
                <div class="price-tag">$40</div>
                <div class="quantity-controls">
                    <button class="qty-btn minus" data-action="decrease">-</button>
                    <span class="quantity">0</span>
                    <button class="qty-btn plus" data-action="increase">+</button>
                </div>
            </div>
        </div>

        <!-- Shopping Cart -->
        <div class="cart-container">
            <div class="cart-tab" id="cartTab">
                <span class="cart-icon">üõí</span>
                <span class="cart-count">0</span>
            </div>
            
            <div class="cart-sidebar" id="cartSidebar">
                <div class="cart-header">
                    <h2>Your Cart</h2>
                    <button class="close-cart" id="closeCart">√ó</button>
                </div>
                
                <div class="cart-items" id="cartItems">
                    <!-- Cart items will be populated here -->
                </div>
                
                <div class="cart-total" id="cartTotal">
                    <strong>Total: $0</strong>
                </div>
                
                <div class="cart-actions">
                    <button class="clear-cart-btn" id="clearCart">Clear Cart</button>
                    <button class="submit-order-btn" id="submitOrder">Submit Order</button>
                </div>
                
                <div class="cart-note">
                    <p class="small-note">Don't forget to include your size preferences in your email!</p>
                </div>
            </div>
        </div>

        <!-- Footer Note -->
        <div class="footer-note handwritten-note">
            <p>Sizes S-XL available</p>
            <p>Questions? Ask!</p>
        </div>

        <script>
            // Shopping Cart functionality
            class ShoppingCart {
                constructor() {
                    this.cart = [];
                    this.products = {
                        'meatgravy': { name: 'MEATGRAVY', price: 60 },
                        'maoxuewang': { name: 'MAOXUEWANG', price: 26 },
                        'praisecod': { name: 'PRAISE COD', price: 40 },
                        'frenchfryangle': { name: 'FRENCH FRY ANGLE', price: 40 },
                        'genesname': { name: 'GENE\'S NAME', price: 40 }
                    };
                    
                    this.initEventListeners();
                    this.updateCartDisplay();
                }
                
                initEventListeners() {
                    // Cart tab click
                    document.getElementById('cartTab').addEventListener('click', () => {
                        this.toggleCart();
                    });
                    
                    // Close cart
                    document.getElementById('closeCart').addEventListener('click', () => {
                        this.closeCart();
                    });
                    
                    // Clear cart
                    document.getElementById('clearCart').addEventListener('click', () => {
                        this.clearCart();
                    });
                    
                    // Submit order
                    document.getElementById('submitOrder').addEventListener('click', () => {
                        this.submitOrder();
                    });
                    
                    // Quantity controls
                    document.querySelectorAll('.qty-btn').forEach(btn => {
                        btn.addEventListener('click', (e) => {
                            e.stopPropagation();
                            const action = btn.dataset.action;
                            const productElement = btn.closest('.product-cutout');
                            const productId = productElement.dataset.product;
                            
                            if (action === 'increase') {
                                this.addToCart(productId);
                            } else if (action === 'decrease') {
                                this.removeFromCart(productId);
                            }
                        });
                    });
                    
                    // Close cart when clicking outside
                    document.addEventListener('click', (e) => {
                        if (!e.target.closest('.cart-container') && !e.target.closest('.cart-tab')) {
                            this.closeCart();
                        }
                    });
                }
                
                addToCart(productId) {
                    const existingItem = this.cart.find(item => item.id === productId);
                    
                    if (existingItem) {
                        existingItem.quantity += 1;
                    } else {
                        this.cart.push({
                            id: productId,
                            name: this.products[productId].name,
                            price: this.products[productId].price,
                            quantity: 1
                        });
                    }
                    
                    this.updateCartDisplay();
                    this.updateProductQuantity(productId);
                }
                
                removeFromCart(productId) {
                    const existingItem = this.cart.find(item => item.id === productId);
                    
                    if (existingItem) {
                        existingItem.quantity -= 1;
                        
                        if (existingItem.quantity <= 0) {
                            this.cart = this.cart.filter(item => item.id !== productId);
                        }
                    }
                    
                    this.updateCartDisplay();
                    this.updateProductQuantity(productId);
                }
                
                updateProductQuantity(productId) {
                    const productElement = document.querySelector(`[data-product="${productId}"]`);
                    const quantityElement = productElement.querySelector('.quantity');
                    const cartItem = this.cart.find(item => item.id === productId);
                    
                    quantityElement.textContent = cartItem ? cartItem.quantity : 0;
                }
                
                updateCartDisplay() {
                    const cartCount = document.querySelector('.cart-count');
                    const cartItems = document.getElementById('cartItems');
                    const cartTotal = document.getElementById('cartTotal');
                    
                    // Update cart count
                    const totalItems = this.cart.reduce((sum, item) => sum + item.quantity, 0);
                    cartCount.textContent = totalItems;
                    
                    // Update cart items
                    if (this.cart.length === 0) {
                        cartItems.innerHTML = '<div class="empty-cart">empty!</div>';
                    } else {
                        cartItems.innerHTML = this.cart.map(item => `
                            <div class="cart-item">
                                <div class="cart-item-info">
                                    <div class="cart-item-name">${item.name}</div>
                                    <div class="cart-item-price">$${item.price} each</div>
                                </div>
                                <div class="cart-item-controls">
                                    <button class="cart-qty-btn" onclick="cart.removeFromCart('${item.id}')">-</button>
                                    <span>${item.quantity}</span>
                                    <button class="cart-qty-btn" onclick="cart.addToCart('${item.id}')">+</button>
                                </div>
                            </div>
                        `).join('');
                    }
                    
                    // Update total
                    const total = this.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                    cartTotal.innerHTML = `<strong>Total: $${total}</strong>`;
                }
                
                toggleCart() {
                    const sidebar = document.getElementById('cartSidebar');
                    sidebar.classList.toggle('open');
                }
                
                closeCart() {
                    const sidebar = document.getElementById('cartSidebar');
                    sidebar.classList.remove('open');
                }
                
                clearCart() {
                    if (confirm('Are you sure you want to clear your cart?')) {
                        this.cart = [];
                        this.updateCartDisplay();
                        
                        // Reset all product quantities
                        document.querySelectorAll('.quantity').forEach(qty => {
                            qty.textContent = '0';
                        });
                    }
                }
                
                submitOrder() {
                    if (this.cart.length === 0) {
                        alert('Your cart is empty! Add some items first.');
                        return;
                    }
                    
                    // Generate email content
                    const total = this.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                    const itemsList = this.cart.map(item => 
                        `‚Ä¢ ${item.name} - Quantity: ${item.quantity} - $${item.price} each - Subtotal: $${item.price * item.quantity}`
                    ).join('\n');
                    
                    const emailBody = `Hi there!

I'd like to place an order for the following items:

${itemsList}

TOTAL: $${total}

Please let me know the next steps for payment and delivery.

**IMPORTANT: Please include your size preferences for each item in your reply to this email!**

Thanks!`;

                    const subject = "Please NYC Order Request";
                    const emailTo = "orders@please.nyc";
                    
                    // Create mailto link
                    const mailtoLink = `mailto:${emailTo}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(emailBody)}`;
                    
                    // Open email client
                    window.location.href = mailtoLink;
                    
                    // Show confirmation
                    alert('Opening your email client! Don\'t forget to include size preferences for each item.');
                }
            }

            // Carousel functionality
            class ProductCarousel {
                constructor(carouselElement) {
                    this.carousel = carouselElement;
                    this.images = carouselElement.querySelectorAll('.carousel-images img');
                    this.dots = carouselElement.querySelectorAll('.dot');
                    this.prevBtn = carouselElement.querySelector('.carousel-btn.prev');
                    this.nextBtn = carouselElement.querySelector('.carousel-btn.next');
                    this.currentIndex = 0;
                    
                    this.init();
                }
                
                init() {
                    // Add event listeners
                    this.prevBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.prev();
                    });
                    
                    this.nextBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.next();
                    });
                    
                    this.dots.forEach((dot, index) => {
                        dot.addEventListener('click', (e) => {
                            e.stopPropagation();
                            this.goToSlide(index);
                        });
                    });
                    
                    // Keyboard navigation
                    this.carousel.addEventListener('keydown', (e) => {
                        if (e.key === 'ArrowLeft') {
                            e.preventDefault();
                            this.prev();
                        } else if (e.key === 'ArrowRight') {
                            e.preventDefault();
                            this.next();
                        }
                    });
                    
                    // Make carousel focusable
                    this.carousel.setAttribute('tabindex', '0');
                }
                
                updateDisplay() {
                    // Update images
                    this.images.forEach((img, index) => {
                        img.classList.toggle('active', index === this.currentIndex);
                    });
                    
                    // Update dots
                    this.dots.forEach((dot, index) => {
                        dot.classList.toggle('active', index === this.currentIndex);
                    });
                    
                    // Update data attribute
                    this.carousel.setAttribute('data-current', this.currentIndex);
                }
                
                prev() {
                    this.currentIndex = this.currentIndex > 0 ? this.currentIndex - 1 : this.images.length - 1;
                    this.updateDisplay();
                }
                
                next() {
                    this.currentIndex = this.currentIndex < this.images.length - 1 ? this.currentIndex + 1 : 0;
                    this.updateDisplay();
                }
                
                goToSlide(index) {
                    this.currentIndex = index;
                    this.updateDisplay();
                }
            }

            // Apply handmade positioning and rotations to product cutouts
            function applyHandmadeStyle() {
                const products = document.querySelectorAll('.product-cutout');
                
                products.forEach((product, index) => {
                    // Get the custom tilt from data attributes
                    const baseTilt = product.dataset.tilt || '0deg';
                    
                    // Apply the custom rotation with some additional randomness
                    const additionalTilt = (Math.random() - 0.5) * 1.5; // -0.75 to 0.75 degrees additional
                    const finalTilt = parseFloat(baseTilt) + additionalTilt + 'deg';
                    
                    // Apply transform
                    product.style.transform = `rotate(${finalTilt})`;
                    
                    // Add slight random positioning within the grid
                    const randomX = (Math.random() - 0.5) * 15; // -7.5px to 7.5px
                    const randomY = (Math.random() - 0.5) * 15; // -7.5px to 7.5px
                    
                    product.style.position = 'relative';
                    product.style.left = randomX + 'px';
                    product.style.top = randomY + 'px';
                });
            }

            // Add click handlers for product selection
            function initProductSelection() {
                document.querySelectorAll('.product-cutout').forEach(product => {
                    product.addEventListener('click', function(e) {
                        // Don't trigger if clicking on carousel controls or quantity controls
                        if (e.target.closest('.carousel-controls') || e.target.closest('.quantity-controls')) {
                            return;
                        }
                        
                        // Add selection effect
                        document.querySelectorAll('.product-cutout').forEach(p => p.classList.remove('selected'));
                        this.classList.add('selected');
                        
                        console.log('Selected product:', this.dataset.product);
                    });
                });
            }

            // Global cart instance
            let cart;

            // Check if page is in iframe and hide back button if so
            function handleBackButton() {
                const backLink = document.querySelector('.back-link');
                
                // If page is loaded in iframe, hide the back button
                if (window.self !== window.top) {
                    backLink.style.display = 'none';
                } else {
                    backLink.style.display = 'block';
                }
            }

            // Initialize everything
            function init() {
                // Handle back button visibility
                handleBackButton();
                
                // Initialize cart
                cart = new ShoppingCart();
                
                // Initialize carousels
                document.querySelectorAll('.product-carousel').forEach(carousel => {
                    new ProductCarousel(carousel);
                });
                
                // Apply handmade styling
                applyHandmadeStyle();
                
                // Initialize product selection
                initProductSelection();
            }

            // Initialize on load
            window.addEventListener('load', init);
            
            // Re-apply handmade style on resize (but less dramatically)
            window.addEventListener('resize', () => {
                setTimeout(applyHandmadeStyle, 100);
            });
        </script>
    </body>
</html> 